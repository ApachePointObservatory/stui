<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <title>TUI:Scripts:Built In Scripts:NICFPS:Focus</title>
</head>
<body>

<h2><a href="../../index.html">TUI</a>:<a href="../index.html">Scripts</a>:<a href="index.html">Built In Scripts</a>:NICFPS:Focus</h2>

<p>The NICFPS:Focus script allows to you take a series of exposures over a range of secondary mirror focus values, reports the resulting FWHMs and optionally adjusts the focus to the estimated best value. It was generously contributed by Stephane Beland, with some modifications by Russell Owen. It has a few known issues, but may be very helpful if used with care.

<h3>Warnings</h3>
<ul>
	<li>The script will abort if a star cannot be centroided. FWHM cannot be measured for donuts, so the script only works over a fairly narrow range of focus. This needs to be fixed.
	<li>The fit best focus may be wrong if the measured FWHM data is noisy (as with any focus script). Always sanity-check the fit best focus by examining the reported FWHMs yourself.
	<li>This script requires matplotlib (a python extension) built with numarray and TkAgg support. Matplotlib is included in the Mac and Windows versions, but not the unix source code version. (Note that future versions of TUI may require matplotlib to run at all.)
</ul>

<h3>Controls</h3>

<form>
<ul>
	<li><b>Time</b>: the exposure time.
	<li><b>#Exp</b>: the number of exposures at each focus position. 1 is recommended.
	<li><b>Name</b>: the file name.
	<li>Comment: a comment for the FITS header.
	<li><b>Star Position</b>: position of star on detector; typically 512, 512.
	<li><b>Start Focus</b>: initial secondary focus
	<li><b>End Focus</b>: final secondary focus
	<li><b>Focus Positions</b>: the number of focus positions to try
	<li><b>Focus Increment</b>: (output) focus increment per step
	<li><input type="checkbox" checked="checked"><b>Move to Best Focus</b>: if checked, move to the estimated best focus and measure the FWHM at that focus.
	<li><input type="checkbox" checked="checked"><b>Plot FWHM</b>: when finished, plot FWHM as a function of secondary focus?
	<li><b>Estimated Focus</b>: (output) best focus value and estimated FWHM at that focus.
	<li><b>Final Focus</b>: (output) best focus value and <b>measured</b> FWHM at that focus (blank if Move to Best Focus not checked).
</ul>
</form>

</body>
</html>
