<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head>	<title>TUI:Building TUI from Source On MacOS X</title></head><body><h2><a href="index.html">TUI</a>:Building TUI from Source On MacOS X</h2><p>This file is for people who wish to build TUI for MacOS X from source. Most people can ignore it, but it is one of the few ways to get a working TUI on Jaguar (MacOS X 10.2), since the pre-built application cannot be used on Jaguar. The first steps are common to Panther (10.3) and Jaguar (10.2), but then they diverge.<p>Note: if you want to build an X11-based TUI for MacOS X, follow the instructions for <a href="Installation.html#Unix">installation on unix</a> instead.<h2>Steps Common to Panther and Jaguar</h2><ul>	<li>Download and install the current aqua tcl/tk (8.4.4 as of this writing). Mac binary installers are available from <a href="http://www.maths.mq.edu.au/~steffen/tcltk/TclTkAqua/">here</a>. Use the "batteries included" version (TclTkAquaBI) because it includes the snack sound library.		<li>Download and run the appropriate MacPython binary installer from the <a href="http://homepages.cwi.nl/~jack/macpython/">Mac Python</a> site. Get python 2.3 or later. What to download depends on whether you have MacOS X 10.3 (aka "Panther") or 10.2 (aka "Jaguar"); the web site will tell you what you need. This installs a GUI Python in /Applications/MacPython-<i>vers#</i>/ and (for Jaguar) a command-line python usable at the Terminal.		<li>Download the <a href="http://www.speech.kth.se/snack/index.html">Snack Sound Toolkit</a>. TclTkAquaBI already installed the snack binaries, but you still have to install the python interface. Read the docs in .../snack&lt;vers&gt;/python. (Also, the snack installed above does not seem to work on all Macs; if sounds don't play on TUI you may have to rebuild snack; contact Russell Owen for instructions).		<li>Run Package Manager (in /Applications/MacPython-<i>vers#</i>/) and use it to install Numeric and _tkinter. I recommend also installing the documentation and readlines, but these are optional.	<li>Make sure your new Python and Tkinter got correctly installed:<pre>% pythonPython ???  # is this the new version you just installed?...&gt;&gt;&gt;import Tkinter  # if this and the next step both work then Tkinter is properly installed&gt;&gt;&gt;root = Tkinter.Tk()  # you should see a new empty window</pre>	<li>Download <a href="http://tycho.apo.nmsu.edu:81/TUI-images">TUI</a> and unpack in some convenient root directory (called <i>tui_root</i> below). In other words, <i>tui_root</i> should contain the directories TUI, RO, etc.</ul><p>The remaining steps depend on whether you are running Panther (MacOS X 10.3) or Jaguar (MacOS X 10.2).<h2>Steps for Panther (MacOS X 10.3)</h2><ul>	<li>Open the terminal	<li>% cd <i>tui_root</i>/BuildForMac	<li>% ./buildtui.py	<li>Ignore warnings about missing modules and submodules (though if you get more than a dozen of these you may have a problem).	<li>At the end you should have a double-clickable application named "TUI <i>version</i>".	<li>Test the application by opening the console (run /Applications/Utilities/Console) and watching it as you run the application. It may help to clear the console's display first.	<li>Move the application to your /Applications folder or wherever you like.	<li>The application you built is self-contained. If you wish, you can delete the files you unpacked into <i>tui_root</i>. (You can even remove the Python and Tcl/Tk stuff you installed, but that seems silly).</ul><h2>Steps for Jaguar (MacOS X 10.2)</h2><ul>	<li>Set up an alias "tui", e.g. in .cshrc:<pre>alias tui "pythonw <i>tui_root</i>/TUI/Main.py"</pre>			<li>Configure the PYTHONPATH in ~/.MacOSX/environment.plist. (Please do not set this information in .cshrc or other unix login files; it must appear in ~/.MacOSX/environment.plist or it will not work). In the following instructions, always replace <i>tui_root</i> with the path to the directory containing TUI and RO:	<ul>		<li>First see if ~/.MacOSX/environment.plist already exists (it does not by default). In Terminal type <code>cat ~/.MacOSX/environment.plist</code>. If a file found and printed, read the text and compare it with the contents below; perhaps it has already been set up correctly. If not, you'll have to edit the file (if you want to preserve what is there -- the safest thing to do if you're not sure) or replace the file.				<li>To edit the existing file, open it in some editor (pico is one such choice, e.g. <code>pico ~/.MacOSX/environment.plist</code>). Then insert the following data (after replacing <i>tui_root</i> with the correct path info) just before the final <code>&lt;/plist&gt;</code>:<pre>&lt;dict&gt;    &lt;key&gt;PYTHONPATH&lt;/key&gt;    &lt;string&gt;<i>tui_root</i>:&lt;/string&gt;&lt;/dict&gt;</pre>		<li>If the file does not exist, or if you wish to replace it, first make sure that the directory ~/.MacOSX exists by typing the command <code>mkdir ~/.MacOSX</code> in the Terminal. This will create the directory if it does not exist, or harmlessly report that the directory already exists.				<li>Create or overwrite the existing ~/.MacOSX/environment.plist by copying the following text into any editor, replacing <i>tui_root</i> with the correct path, and then pasting that text into Terminal:<pre>cat &gt;~/.MacOSX/environment.plist&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;&lt;plist version="1.0"&gt;&lt;dict&gt;    &lt;key&gt;PYTHONPATH&lt;/key&gt;    &lt;string&gt;<i>tui_root</i>:&lt;/string&gt;&lt;/dict&gt;&lt;/plist&gt;</pre>Then type ^D (control-D) to finishing writing to the file		<li>Log out and back in again. This is <b>necessary</b> to see changes in ~/.MacOSX/environment.plist.	</ul>	<li>Test TUI by typing tui in the Terminal. It should launch.		<li>This TUI uses the files you unpacked into <i>tui_root</i>, so don't mess with them!</ul></body></html>