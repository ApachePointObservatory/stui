<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
	<title>TUI:Version History</title>
</head>
<body>
<h2><a href="index.html">TUI</a>:Version History</h2>

<h3>Compatibility</h3>
<ul>
	<li>Mac: works with MacOS X 10.4 and 10.3.9 and is a universal binary.
	<li>Unix: runs from source, so is compatible with all flavors of unix. See the <a href="Installation.html">installation instructions</a> for the required version of Python and other libraries.
	<li>Windows: works with Windows 2000, XP and Vista.
</ul>

<h3><a name="UnixWarning">Warning For Unix Users</a></h3>

<p>TUI now uses numpy instead of numarray and Numeric (as of version 1.4). As a result, <br><b>unix users must install</b>:
<ul>
    <li>numpy (1.0 or later)
    <li>A numpy-compatible version of pyfits (1.1 or later). <b>Warning:</b> once this is installed, to you must take a special step to run TUI 1.3 or older: you must set environment variable NUMERIX to <code>numarray</code>. I suggest you define this in the shell script that launches TUI 1.3 (or older) because it is must <b>not</b> be set for TUI 1.4.
    <li>A numpy-compatible version of matplotlib to run focus scripts. Future versions of TUI are likely to require matplotlib to run at all. (The Mac and Windows versions of TUI already include matplotlib.)
</ul>

<h3>1.4.4-post 2008-01-14</h3>

<p>Visible changes:
<ul>
    <li>The Mac version is once again a universal Binary. I'm using Aqua Tcl/Tk 8.4.14 which loses the mouse position more often than the previous PPC-only version. But with the improved control-click guider offset display I think we can live with this. Note that more recent versions of 8.4 have a nasty memory leak and so are unusable (and 8.4.17 is likely the end of the line for 8.4).
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=718">PR 718</a> Make Linear the default scaling for guide image viewers.
</ul>
    
<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=701">PR 701</a> Enclosure window heater All On/All Off buttons are reversed.
</ul>

<h3>1.4.4 2008-01-03</h3>

<p>Visible changes:
<ul>
    <li>Improved the guider control-click offset. The offset is displayed as an arrow. The offset may be modified by dragging the mouse, and may be cancelled by dragging the mouse off the image.
    <blockquote>
        <p>Occasionally the mouse position is reported incorrectly on Macs due to a Tcl/Tk bug. Formerly this caused mysteriously wrong control-click offsets. Now you will see the problem: the arrow will not start at the mouse pointer (or will not appear at all if the incorrectly reported mouse position is off the image). The arrow shows the offset you will really get. You may move the mouse until the arrow shows the offset you want, or cancel the offset by moving the mouse until the start of the arrow goes off the image (at which point the arrow will disappear, indicating that no offset will be sent).
    </blockquote>
    <li>NICFPS improvements:
    <ul>
        <li>Fowler Samples is a normal entry box instead of a menu. The menu was already very long and could have gotten longer someday.
        <li>Fixed some layout problems in the NICFPS window.
     </ul>
    <li>The "about box" now includes the version of various libraries used by TUI. This is useful information for diagnosing bugs.
</ul>

<p>Internal changes:
<ul>
    <li>NICFPS now reports the maximum number of Fowler samples allowed, so I modified TUI to use this information instead of hard-coding the maximum. This will be handy if NICFPS is ever modified to allow more Fowler samples.
</ul>

<p>Bug fix:
<ul>
    <li>TUI focus scripts were incompatible with matplotlib 0.91.1. Note to script writers: do not call matplotlib.use() because it raises an exception (in matplotlib 0.91.1) once matplotlib.backends has been imported. To work around this TUI now configures the matplotlib backend at startup.
</ul>

<h3>1.4.3 2007-11-16</h3>

<p>Visible changes:
<ul>
    <li>One may now specify a port after the hub host address (after a space).
    <li>NICFPS now allows up to 15 fowler samples.
</ul>

<h3>1.4.2 2007-11-09</h3>

<p>This version is only for Macintoshes. It fixes two Mac-specific bugs by reverting to an older version of Aqua Tcl/Tk. As a result Mac TUI is once again not a universal binary.

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=681">PR 681</a> Memory leak.
</ul>

<h3>1.4.1 2007-10-09</h3>

<p>Visible changes:
<ul>
    <li>The Mac version is now a universal binary (now that Aqua Tcl/Tk 8.4.16 is available and appears to have a few serious bugs fixed). However, Save Window Positions does not work under MacOS X 10.3.9.
    <li>Enclosure window: tertiary rotation positions are now in order of rotation.
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=666">PR 666</a> the Slew window commands a rotator type and angle even if the current instrument has no rotator.
</ul>

<h3>1.4 2007-09-10</h3>

<p>Visible changes:
<ul>
    <li>SPIcam control
    <li>Improved the Focus scripts:
    <ul>
        <li>Focus scripts have user-settable bin factor (instrument permitting). Note: the bin factor and windowing used by the focus script do not affect science exposures.
        <li>Slitviewer focus scripts now take a final full-frame image (after restoring the boresight). Warning: it will be blurry if the script fails or was aborted.
        <li>Focus scripts now make sure the actor that centroids is alive. This removes a source of silent errors.
        <li>Instrument focus scripts now assign a sensible filename for focus images.
    </ul>
    <li>Improved the Slew window:
    <ul>
        <li>Option panels are hidden and disabled if they are not relevant for the currently selected coordinate system.
        <li>Option panels are automatically opened or closed as appropriate when you select a star from the Catalog. This makes it much more useful to add special options to catalog objects (e.g. to retain a particular offset or select a certain axis wrap).
    </ul>
    <li>Switched to numpy from numarray and Numeric. Unix users please read the <a href="#UnixWarning">Warning For Unix Users</a> above.
    <li>You can no longer pause darks for any instrument. It makes no sense to pause a dark exposure, and pausing a dark sequence is not supported by the hub.
    <li>Guide windows: improved the scale and range menus. Both the available options and the default setting are better.
    <li>Increased length of Message history from 100 lines to 5000 lines.
    <li>Command sound cues are now played for the Enclosure window, Permissions window and Truss Lamps window.
    <li>The Enclosure window controls more devices and the controls are simpler.
</ul>

<p>Internal changes:
<ul>
    <li>Improved checking of the user's clock. TUI now requires a current UTC_TAI (instead of using a guess) before checking the clock. Also, TUI will now get that information soon enough to perform the check as the user connects (except under extremely unlikely circumstances).
    <li>Added ccd temperature and ccd current to the DIS model.
    <li>The Windows version now uses the latest version of Python and python packages.
    <li>Modified the TelMech model to accept "?" as a value meaning "unknown state" instead of printing an error message to the log.
    <li>Improved the fidelity of the debug mode for the focus scripts.
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=641">PR 641</a> Enclosure GUI gives no sounds for command completion
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=620">PR 620</a> Error log entry on connection due to nicfps keyword fp_z = -9999.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=603">PR 603</a> Pausing darks either needs to be disabled or redefined.
</ul>

<h3>1.3 2007-02-20</h3>

<p>Visible changes:
<ul>
	<li>Added CCD window (subframe) support for guiding.
	<li>Added Russet's helpful Guiding User's Guide to the on-line help.
	<li>Added DIS:Focus, Echelle:Focus and NA2 Guider:Focus scripts and overhauled the NICFPS:Focus script.
	<li>Major improvements to the Log window. Filtering and search are improved and you can now highlight text of interest.
	<li>Mirror Status window updated for new top end.
	<li>Documented compatibility in the version history.
</ul>

<p>Known issues:
<ul>
	<li>The Echelle Slitviewer window will show the window control in pink for full frame images. This appears to be due to a bug in the guide image controller or the camera control library that prevents returning images larger than 511x511. We hope to either fix the bug or implement a workaround for 1.3 release.
	<li>The Log window's Next/Prev control sometimes appears to do nothing. It is actually finding hidden (filtered out) highlighted text; keep pressing it until you get a visible result.
	<li>The DIS:Focus and Echelle:Focus scripts move the boresight during operation and move it back and the end, but they do not take a final exposure. Thus the image shown in the slitviewer window will be outdated.
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=519">PR 519</a> Nicfps Focus Script shows blank window for image.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=518">PR 518</a> DIS and Echelle Focus scripts raise: unexpected keyword argument 'scalex'.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=515">PR 515</a> NICFPS dither script does not stop exposure when stop button pressed.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=511">PR 511</a> Permission widget buttons poorly sized for fvwm2 window manager.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=499">PR 499</a> DIS masks with integer names cannot be selected.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=493">PR 493</a> NA2 Guider has Boresight (?!) for default mode.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=451">PR 451</a> NICFPS focus script plot (fails to plot if script is run more than once).	
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=429">PR 429</a> Sound prefs do not show their initial value.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=428">PR 428</a> No "guiding begins" sound cue with NA2 guider.
	<li>Guide windows: an issue with Thresh and Rad Mult range checking could cause tracebacks in the error log.
	<li>Floating entry widgets could indicate a non-default value for values numerically equal to the default.
	<li>Updated some links to the APO web server.
	<li>Fixed error in installation instructions claiming incompatibility with intel Macs.
	<li>One page of the scripting tutorial showed source for the wrong script.
</ul>

<p>Internal changes:
<ul>
	<li>RO.KeyVariable: Added keyVars argument to CmdVar. This allows retrieving data returned as the result of a command.
	<li>RO.Wdg.Entry: added doneFunc argument: a function to call when the user types &lt;return&gt; or the widget loses focus.
	<li>RO.Wdg.LogWdg: totally overhauled. Now includes just the log area (users are expected to add the extra controls needed). Includes powerful new methods for filtering and searching.
    <li>Changed the source code to use 4 spaces for indentation instead of tabs.
    <li>Changed <code>#!/usr/local/bin/python</code> to <code>#!/usr/bin/env python</code> in all executable python source files.
    <li>Started work on bundling a linux package using pyinstaller (but it's tricky and I have no estimated time of completion).
    <li>The RO package has a new layout; to accommodate this <i>tuiroot</i>/RO is now a symbolic link.
</ul>

<h3>1.2 2006-06-06</h3>

<p>Visible changes:
<ul>
	<li>Guiding overhaul:
	<ul>
		<li>You may change most parameters of the guide loop while it is running, including exposure time, guide mode and guide star.
		<li>The current guide mode is shown in the guide status at the top of the window.
		<li>The boresight is shown in slitviewer images (as a +).
		<li>The guide star is shown as a magenta circle with a big magenta plus (+) split into two parts: the outer part is the measured position and the inner part is the predicted position. The difference in location between the two portions of the plus is thus the raw guiding error.
		<li>The color of various guide image annotations may be set in Preferences.
		<li>The default exposure time is now 5 seconds (instead of 10 seconds).
	</ul>
	<li>Instrument configuration controls that show the current value will now track the current value. In other words, if a configuration control is not pink, then it will not go pink if somebody else configures the instrument.
	<li>Scripting improvements:
	<ul>
		<li>Added script <a href="Scripts/BuiltInScripts/RunCommands.html">Run_Commands</a> to run a set of commands.
		<li>Added beta script NICFPS:Focus which takes a sequence of images at varying focus and attempts to predict the best focus. This script was generously contributed by Stephane Beland, with some adaptation on my part.
		<li>Scripts may run subscripts.
		<li>Scripts may be defined as classes, making it much easier to pass data without the use of global variables. All built-in scripts (except the first three tutorial scripts) were changed accordingly, to provide good examples.
		<li>All built-in scripts now have reasonable support for off-line debugging. As a result, various bugs were found and squashed.
	</ul>
	<li>Offsets are now computed (to protect the axis actuators) including:
	<ul>
		<li>Nudger offsets
		<li>The script NICFPS:Dither:Point Source
	</ul>
	<li>Added an Enclosure window (in the Misc menu). It is somewhat crude, but will do for now.
	<li>The Log window now shows UTC time of each entry.
	<li>Plays the "Axis Halt" sound cue if an axis controller reports an error state (shown as red text in the axis controller status portion of the Status window).
	<li>The Mac and windows versions now include matplotlib, so you can use scripts that create plots.
	<li>Added a new help file <a href="Tidbits/SpecialFiles.html">TUI:Tidbits:Special Files</a>, which lists the special files read and written by TUI and includes links for more information.
	<li>On Mac and Windows error messages are now saved to a <a href="Tidbits/ErrorLog.html">log file</a>.
	<li>The Windows executable is now called "TUI.exe".
	<li>Multi-line commands pasted into the log window command area are now rejected.
	<li>The MacOS X version is now distributed as a disk image (.dmg file).
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=426">PR 426</a> TUI wouldn't let user browse for catalogs.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=401">PR 401</a> An invalid message from the hub causes a traceback in TUI.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=388">PR 388</a> Guide windows initially use "Linear" scaling function but show "ASinh 0.1".
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=387">PR 387</a> Quitting TUI on Windows raises an error.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=386">PR 386</a> Cannot copy data from the Message window.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=365">PR 365</a> Switching to Mount in the Slew window may abort, leaving Az in hours.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=358">PR 358</a> The slew countdown timer does not go away after an axis stop.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=314">PR 314</a> The Permissions window has missing checkboxes if a new actor is added.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=311">PR 311</a> Traceback in TUI.Guide.GuideWdg.doDragContinue.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=289">PR 289</a> Hub commands can inadvertantly be sent through the message window.
</ul>

<p>Internal changes:
<ul>
	<li>TUI now sends version and platform info at login. Soon I hope this will allow warning about outdated versions. Meanwhile, it allows collection of statistical data.
	<li>Added RO.Wdg.CmdWdg (split off from RO.Wdg.CmdReplyWdg).
	<li>The MacOS X version includes python, making it more likely to be compatible with future versions of MacOS X. Also, it is now built with py2app instead of bundlebuilder (py2app is the new way to build Mac distributions and slightly simplifies the build process).
</ul>

<h3>Version 1.1 2005-10-24</h3>

<p>Visible changes:
<ul>
	<li>Preferences:
	<ul>
		<li>Added a new preference "View Image". This will display any automatically downloaded images in ds9. You must have ds9 and xpa <a href="Installation.html">installed</a> to view images. If in doubt, try the DS9 button in any guide image viewer.
		<li>Renamed "Auto FTP" to "Auto Get" because ftp is no longer used. Your existing preference will be used.
		<li>Please open Preferences and select a preferred value for "View Image", then Save your preferences.
		<li>Note that new preference files will work with older versions of TUI, but Auto FTP will have its default value and you will see a few warnings about unrecognized preferences.
	</ul>
	<li>Exposure windows: redid the Prefs controls:
	<ul>
		<li>You can now toggle Auto Get and View Image in exposure windows. These checkbuttons only control the specific instrument (unlike the corresponding global preferences, which control all instruments).
		<li>Added a More... button which opens the global exposure preferences.
	</ul>
	<li>Users logged in as program APO are now considered everybody's collaborator, for purposes of Auto Get. Thus the obs specs can more easily monitor the instruments and help the observers.
	<li>NICFPS: added status and configuration for:
	<ul>
		<li>Slit in/out of the beam
		<li>Slit focus
		<li>Fowler sampling
	</ul>
	<li>Improved the way TUI talks to ds9:
	<ul>
		<li>Corrected the installation instructions for ds9 and xpa on MacOS X and Windows.
		<li>MacOS X: automatically launches X11 before trying to use ds9 to display images.
		<li>Improved error handling when xpa or ds9 are not found.
	</ul>
	<li>The minimum exposure time for guiders and slitviewers is now 0 (instead of 0.1 seconds). However, very short exposures may not be uniformly illuminated, or illuminated at all, depending on the camera.
	<li>Added a self-contained Windows distribution.
	<li>MacOS X only: Command-Q now quits and Command-W now hides the front window. The former was displayed in the menu but was ignored. The latter is not (yet) in the menus.
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=292">PR 292</a> DS9 typically not usable from MacOS X.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=276">PR 276</a> Abort, Stop, Pause buttons don't work in exposure windows.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=274">PR 274</a> Cannot select other guide stars by clicking on a guider image.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=272">PR 272</a> standard scripts not available on Mac TUI.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=269">PR 269</a> once Seq By File is specified, it cannot be undone.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=261">PR 261</a> axis controller hardware problems reported as "stop button".
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=256">PR 256</a> TUI does not always re-enable the Start button when an exposure fails.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=209">PR 209</a> gcam messages getting into paste buffer (not a sure fix; I have not been able to reproduce it, but I changed something that might possibly cause it on some platforms).
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=132">PR 132</a> on Mac the Script menu is empty the first time it is selected. This is a tcl bug, but I found a workaround.
</ul>

<h3>Version 1.0.1 2005-09-07</h3>

<p>Visible changes:
<ul>
	<li>For each instrument's Expose windows: the Start button is disabled and the Pause, Abort and Stop buttons are enabled whenever a sequence is running (no matter who started the sequence).
	<li>Message window: if you type in the output pane (top pane), the text goes into the input area. Also, you can now copy text from the output pane.
</ul>

<p>Internal changes:
<ul>
	<li>Reorganized the code to simplify packaging and speed up startup.
</ul>

<p>Bug fixes:
<ul>
	<li>Command replies shown in the status bar sometimes had unnecessary parenthesis.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=240">PR 240</a> Distance is ignored in Slew and unacceptable in catalogs.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=229">PR 229</a> On-line html help does not load on Windows.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=224">PR 224</a> The time field must be filled in before one can take a bias.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=213">PR 213</a> Very large offsets from ctrl-click with no function selected. (Fixed in Aqua Tcl/Tk 8.4.11.)
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=134">PR 134</a> Mac TUI puts up an unwanted Console window.
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=61">PR 61</a> TUI menus may show up in the wrong place under Mac. (Fixed in Aqua Tcl/Tk 8.4.11.)
	<li>Fixed Secondary Focus html help. The Help entry on the contextual menus pointed to a nonexistent file (and the incremental menu had no contextual menu at all). Also the TUI:Telescope page had no reference to the help page. Thus the help page was well hidden.
	<li>If the focus widget gets zero time for a mirror move it will not attempt to display a countdown timer. (Such a timer caused an exception; RO.Wdg.ProgressBar has also been modified to handle that more gracefully.)
</ul>

<h3>Version 1.0 2005-07-19</h3>

<p><b>Warnings:</b>
<ul>
	<li>TUI 1.0 requires some additional packages to run (for guiding support). Non-Mac users must install the following packages as per the <a href="Installation.html">installation instructions</a>:
	<ul>
		<li>numarray
		<li>pyfits
		<li>Python Imaging Library (PIL)
	</ul>
	<li>The Echelle instrument control computer has been replaced with an improved version (after the old one became flakey and unmaintainable). TUI 1.0 or later is required to talk to the new Echelle controller (Remark and earlier versions of TUI will not work).
</ul>

<p>Visible changes:
<ul>
	<li>Added guiding support (Guide menu). Please read the on-line help before trying to use this!
	<li>Added a Nudger window (in the TCC menu).
	<li>Added a sound for "no guide star found".
	<li>The "FTP Log" window has been renamed "Downloads". Your preference for the location and size of this window, and whether it is initially visible, must be re-established. To do this, set the new window as you like it and select Save Window Positions.
	<li>Image downloads are now done via http instead of ftp. This should simplify use from behind firewalls.
	<li>The default "Save As" directory is now your standard documents directory.
	<li>Added "Copy All" to the contextual menu for status bars and other read-only entry fields.
	<li>Status bars should be less chatty while executing commands. Information messages are no longer shown unless they contain text (a Text keyword).
	<li>Echelle changes:
	<ul>
		<li>Modified to use new Echelle instrument control computer.
		<li>Added display of shutter state.
		<li>Minor tweaks to the Echelle window.
	</ul>
	<li>NICFPS changes:
	<ul>
		<li>The NICFPS Expose window no longer has the useless and confusing "bias" option.
		<li>The NICFPS configure window now has a "Detector" section that allows you to change the window (with much thanks to Stephane Beland).
	</ul>
	<li>Removed GRIM support.
	<li>Sky window: modified to use TCC-reported azimuth limits (instead of hard-coded values).
	<li>Slew window modified to use TCC-reported azimuth and altitude limits for Mount coordinates (instead of hard-coded values). Note that TCC-reported limits were already being used for mount rotation angle.
</ul>

<p>Known limitations as of 2005-06-27 include:
<ul>
	<li>Cannot change exposure time or filter while guiding (unless you send text commands).
	<li>No windowing support for the various guiders (unless you send text commands).
	<li>No support for the NA2 guider's filterwheel and focus (unless you send text commands).
	<li>No display of boresight on slitviewer images.
	<li>No display of guide corrections (though you can easily see a history of guide images). Graphs would be optimal, but may require installing yet another 3rd party python package.
	<li>No display of the mask or masked data.
	<li>The DS9 button will fail without a useful error message if xpa is not installed. This is due to a misfeature of xpa (though I still hope to figure out a workaround).
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/cgi-bin/gnatsweb.pl?cmd=view&amp;database=APO&amp;pr=205">PR 205</a> NICFPS exposure time of 0 rejected by Expose window and sends None in dither script.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=199">PR 199</a> Auto FTP may delete files.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=196">PR 196</a> the Choose... button in the guider windows can silently fail on MacOS X.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=188">PR 188</a> guide window zoom can make TUI unresponsive.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=180">PR 180</a> ftp leaks memory.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=154">PR 154</a> Once you click on the status bar you cannot get rid of the cursor.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=28">PR 28</a> Guide on/off sound timing misplaced.
	<li>If you scroll a guider image to the edge, it may zoom out slightly.
	<li>The following are probably fixed because the download system has been entirely rewritten. However, I was not able to reproduce them and they remain mysteries.
	<ul>
		<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=186">PR 186</a> Auto FTP stopped transferring.
		<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=174">PR 174</a> Auto FTP occasionally does not transfer an image.
	</ul>
	<li>The middle mouse button would paste the selection into the status bar (and other read-only entry widgets), at least on unix.
	<li>Focal Plane window: if the rotator limits changed then the current and target positions might not be properly centered on the new spiral.
	<li>If the rotator limits were both positive or both negative it would have been difficult or impossible to specify a rotation angle in mount coordinates.
	<li>Help for Status window was a bit out of date.
</ul>

<h3>Version 0.94 2005-02-18</h3>

<p>Visible changes:
<ul>
	<li>Improved feedback as to what will change when configuring an instrument. Modified parameters have a pink background (Bad Background preference). The old "!" indicator is now only used in the Preferences window.
	<li>Secondary Focus window overhauled. The delta-focus buttons now act immediately and the delta amount can be set via a pop-up menu.
	<li>Users window: your program and user name are underlined.
	<li>Permissions window: your program name has a leading asterisk (I plan to change it an underline if I can find an acceptable implementation). Also, for those who can set permissions, the "!" indicator is gone, replaced by the new pink background.
	<li>Modified the tlamps widget to display changing lamp in pink. Also improved tlamps help to indicate more clearly what can go wrong if non-TUI users mess with the lamps.
	<li>Modified the NICFPS:Dither script:
	<ul>
		<li>Renamed to NICFPS:Dither:Point Source in preparation for adding more dither patterns.
		<li>Changed Offset Size to Box Size.  Box Size is the size of the dither box along one axis (x or y); thus it is twice as big as the old Offset Size; a Box Size of 20" has the same effect as an Offset Size of 10". This was done to make the parameter clearer (especially with a planned new dither pattern that will have X and Y offset in addition to box size).
		<li>Changed the default box size to 20" (the old default was 30").
		<li>Changed the dither order to ctr, UL, UR, LR, LL, to be more efficient.
		<li>The dither pattern checkboxes are recorded when the script starts running. Thus changes during script execution are ignored (just like the other input widgets).
	</ul>
	<li>Modified the GRIM:Square script dither order to ctr, UL, UR, LR, LL, to be more efficient.
</ul>	

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=129">PR 129</a> The FPCalibrate and DataCube scripts are broken.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=130">PR 130</a> proper motion miscomputed when displaying catalog objects on the sky window.
	<li>GRIM: a traceback occurred if one toggled the Dark checkbutton on and off before connecting.
</ul>

<h3>Version 0.932 2004-12-22</h3>

<p>Visible changes:
<ul>
	<li>NICFPS changes:
	<ul>
		<li>Minimum exposure time reduced to 0.
		<li>Overhauled the DataCube script. You can now restart a partial data cube and pick the number of passes in which to sample the z spacing (1, 2 or 3).
		<li>Etalon response time and mode are ignored (no display, no controls).
	</ul>
	<li>Added a basic debug mode to the script runner.
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=100">PR 100</a> Can't select targets from the history list.
	<li>NICFPS: Etalon Z spacing was not being automatically refreshed.
</ul>

<p>Internal changes:
<ul>
	<li>RO.DS9
	<ul>
		<li>Bug fix in xpaset: if data does not end in \n, an \n is appended. This fixes an incompatily with older versions. Warning: dataFunc must supply a final \n if needed; fortunately when sending array data (the main use for which dataFunc was envisioned), a final \n does not appear to be needed.
		<li>Modified to use the subprocess module (one is supplied from RO.Future if your python is too old to have one).
	</ul>
	<li>RO.Future: subprocess module updated to the one from Python 2.4 release.
	<li>RO.Wdg.GrayImageDispWdg added: this is a preliminary implementation of a grayscale image viewer. It is not yet imported into RO.Wdg (that will be done once it is released).
	<li>RO.InputCont overhauled:
	<ul>
		<li>Made ContList a subclass of WdgCont to clean up the code.
		<li>WdgCont modified to be like ContList in the following ways:
		<ul>
			<li>restoreDefault and setValueDict now make just one callback,instead of one callback per input container.
			<li>Added removeCallback.
		</ul>
		<li>Renamed doEnable to setEnable to match RO.Wdg widgets.
		<li>Eliminated formatNow argument (it was not being used and was broken).
	</ul>
	<li>RO.Wdg.InputContFrame: added removeCallback; added callNow argument to addCallback.
	<li>RO.Wdg.OptionButton: renamed doEnable to setEnable to match RO.Wdg widgets. 
	<li>RO.Wdg.OptionMenu: rearranged a few methods into alphabetical order.
	<li>RO.Wdg.RadioButtonSet: renamed doEnable to setEnable to match RO.Wdg widgets. 
	<li>RO.Wdg.ScrolledWdg: corrected a doc string error.
	<li>RO.Wdg.StatusConfigGridder: ConfigCat is now a class constant.
</ul>

<h3>Version 0.931 2004-11-19</h3>

<p>Bug fixes:
<ul>
	<li>Images were being mis-transferred (as text, not binary). Fixed in RO.Comm.FTPLib.
	<li>A mal-formed prog-username (missing a ".") from the hub could cause a nasty traceback.
</ul>

<p>Internal changes:
<ul>
	<li>Modified Mac app builder script to use the associated RO and TUI instead of the main copy, to avoid including svn files.
</ul>

<h3>Version 0.93 2004-11-18</h3>

<p>Visible changes:
<ul>
	<li>Modified to ftp 2 files simultaneously (e.g. both blue and red DIS images), taking advantage of APO's new fast link.
	<li>Added preliminary NICFPS control, including two scripts. Before trying to use NICFPS, be sure to contact APO about limitations and which version of TUI is required.
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=82">PR 82</a> The Open... item in the Scripts menu was broken.
	<li>MacOS X: graphics in the Sky and Focal Plane window were somewhat out of position due to a workaround for a tk bug that was no longer needed. That workaround has been removed.
</ul>

<p>Internal changes:
<ul>
	<li>RO.Comm.GetFile renamed to RO.Comm.FTPGet; the UI changed because I started using ftplib instead of urllib to avoid a bug in urllib, and so only ftp is now supported.
	<li>RO.DS9 bug fix: could only communicate with one ds9; fixed by specifying port=0 when opening ds9.
	<li>RO.Wdg.Checkbutton: more sensible defaults; if showValue true then defaults to indicatoron false. If indicatoron false then defaults to padx = 5, pady = 2.
	<li>RO.Wdg.FTPLogWdg: getFile arguments overhauled to match the changes in RO.Comm.GetFile -&gt; RO.Comm.FTPGet mentioned above.
	<li>RO.Wdg.Label: renamed method _setStatus to setStatus (it is a useful public method).
	<li>RO.Wdg.PatchedCanvas: the corrections applied by this module are no longer needed and have been disabled. This module now issues a deprecation warning when used, and really doesn't do anything else. Please use Tkinter.Canvas instead. 
</ul>

<h3>Version 0.92 2004-10-13</h3>

<p>Visible changes:
<ul>
	<li>Catalog error handling improved:
	<ul>
		<li>If TUI could not parse the catalog, it gave no indication; it just kept saying "Loading file...".
		<li>If an object was missing its name, TUI rejected the catalog, rather than skipping that object and listing it in the bad object report.
	</ul>
</ul>

<p>Bug fixes:
<ul>
	<li>TUI 0.91 needlessly required Tk 8.4.
	<li>Improved the performance while disconnected. TUI was spending a fair amount of time repeatedly updating KeyVariables.
</ul>

<p>Internal changes:
<ul>
	<li>RO.Comm.TkSocket: fixed documentation for setReadCallback.
	<li>RO.Comm.TCPConnection: fixed documentation for addReadCallback and addStateCallback.
	<li>RO.KeyDispatcher modified to refresh KeyVariables once when disconnected, rather than repeatedly while disconnected. This should significantly reduce CPU load while disconnected.
	<li>RO.Wdg.TkUtil.getWindowingSystem supports Tk 8.3 (? approx.) and earlier, by using an educated guess if "tk windowingsystem" is not supported.
</ul>

<h3>Version 0.91 2004-10-11</h3>

<p>Visible changes:
<ul>
	<li>The menu bar is more standard. On the Mac, TUI's menus show up in the menu bar, not in the Status window.
	<li>Script file names cannot start with ".".
	<li>Catalogs improvements:
	<ul>
		<li>TUI is more responsive when large catalogs are displayed in the Sky window (at the expense of some delay in display). Note that loading huge catalogs still ties up TUI, but once they are loaded TUI should be responsive.
		<li>The Open Catalog dialog box remembers the last directory and file. Also, on unix this dialog box used to show invisible files; it no longer does so unless you explicitly ask to see them.
	</ul>
	<li>The Mac application now puts its version number in the standard location (e.g. Get Info shows it). As a result I no longer include the version number in the file name.
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=46">PR 46</a> TUI locks up while launching a user's web browser.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=69">PR 69</a> Truss Lamps controls misbehave if user does not have permission to control the lamps.
	<li>Corrected the Windows installation instructions in the Installation manual.
	<li>Updated the Introduction for the preferences changes in 0.90.
	<li>The units for offsets had ' and " reversed (reported by Russet McMillan).
	<li>Performance was poor when a position was entered into the Slew window, due to inefficient use of callbacks.
</ul>

<p>Internal changes:
<ul>
	<li>Added RO.Comm.BrowseURL, which opens a URL in the user's default web browser. The launching is done in a background thread.
	<li>RO.ScriptRunner bug fix: waitThread could fail for very short threads (basically it would try to restart the script before it had started waiting). Unfortunately, this proves that event_generate is not thread-safe, so I now poll for thread completion.
	<li>RO.Entry.DMSEntry: units for relative dms fields had ' and " swapped.
	<li>Added RO.Wdg.TkUtil.
</ul>

<h3>Version 0.90 2004-10-01</h3>

<p>Visible changes:
<ul>
	<li><b>Warning: TUI now requires Python 2.3!</b> Python 2.2.x will no longer work. This is a result of the mechanism used to implement user scripts.
	<li>Added user scripts.
	<ul>
		<li>Scripts show up in the new Scripts menu.
		<li>Built in scripts DIS:Drift, Echelle:Trail and GRIM:Square plus tutorial scripts.
		<li>See TUI:Scripts for documentation, including a tutorial.
	</ul>
	<li>Exposure and automatic ftp changes:
	<ul>
		<li>File numbering is now always automatic, and thus more robust (formerly it was possible for an exposure to fail because the file already existed). You have two choices (set in Preferences): by file name or by directory. Read the Preferences help for more info.
		<li>File numbering and automatic ftp are now controlled by preferences (in the Exposures category). This was done so exposures taken by scripts work as expected.
		<li>The file name displayed in exposure status windows is now for the current exposure (or the most recent exposure if not exposing). Formerly it was always for the most recently completed exposure.
		<li>The destination directory for automatic ftp now includes the program and date subdirectories, e.g. <i>ftpSaveToDir</i>/Q1UW01/UT04081/....
	</ul>
	<li>Added a window to control the truss lamps (Truss Lamps in the Misc menu).
	<li>Better feedback for commands typed in the log window. The appropriate sound queue plays when the command succeeds or fails.
	<li>Added Clear, Cut, Copy, Paste and Select All to the contextual menus for text and entry widgets (read-only widgets only have Copy).
	<li>All users now have a Permissions window. Only operatators can change permissions, but everybody can see them.
	<li>TUI is now fully windows compatible. There is no Windows binary, so installation is nontrivial, but a binary installer may happen eventually.
	<li>Improved the responsiveness of TUI while connecting.
	<li>If an axis controller is not responding, the controller status now says "Not responding". Formerly it was left blank with a pink background (and an error message about invalid data was printed to the console).
	<li>The Users window shows only real users (the hub recently added some automated users that were showing up as regular users).
	<li>Slew window improvements:
	<ul>
		<li>Added az, alt, airmass display. Alt is red if out of bounds.
		<li>Added Defaults button and missing help strings to the Drift Scan window and corrected the units (/sec was missing from velocity controls).
		<li>Removed the Restart Axes option panel from the Slew window; it didn't work (due to limitations in the TCC).
		<li>Improved responsiveness while typing positions.
	</ul>
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=32">PR 32</a> Refresh Display may cause the slew countdown timer to start.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=40">PR 40</a> Contextual help broken on MacOS X (at least in many cases; see "internal changes" or the PR for more info).
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=42">PR 42</a> Two sounds don't play on Solaris: AxisHalt and MessageReceived.	
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=48">PR 48</a> Focus problem with file and directory preferences.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=52">PR 52</a> If the user tried to deselect both cameras in the DIS Expose window (which is illegal), the last camera deselected was re-selected, but unfortunately it still showed up as deselected.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=54">PR 54</a> Mac TUI does not include the snack sound package.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=57">PR 57</a> Slew window Mag/PM panel does not show magnitude.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=58">PR 58</a> The "value changed" indicator was not displayed for most preferences.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=60">PR 60</a> Prefs menus can unexpectedly change color on the Mac.
	<li>The comment for the current exposure is now displayed (formerly it was always blank). (I'm not sure how long the hub has been outputting this information; initially it was not.)
</ul>

<p>Internal changes:
<ul>
	<li>Added RO.ScriptRunner and RO.Wdg.ScriptWdg modules to run user-generated scripts that can wait for events without blocking and without needing to use callbacks in the user's script.
	<li>RO.AddCallback: bug fix: used sys and traceback for error reporting but did not import them.
	<li>RO.CnvUtil: added asBoolOrNone (for NICFPS).
	<li>RO.Comm.TkSocket now works at the tcl level using fileevents and tcl sockets. This fixes a Windows incompatibility.
	<li>RO.InputCont.ContList: the callback gets the entire ContList, not just the changed container(s), and only one callback is issued for setValueDict and restoreDefault, rather than one callback per container.
	<li>RO.KeyVariable: major overhaul, including renaming KeyVar to CmdVar, adding abort capability and adding refreshOptional argument to KeyVarFactory.
	<li>RO.KeyDispatcher: many improvements, including: Pending commands are aborted when disconnected. Improved the multitasking while refreshing variables and checking for command timouts. Added _replyCmdVar method to unify the sending of replies to command variables.
	<li>RO.Prefs.PrefVar: DirectoryPrefVar and FilePrefVar modified to have no text entry field. This solves a focus infinite loop issue: if the user typed in an invalid value and then tried to use Choose..., the dialog box would never get focus because the edit field would take it back. This left the user no choice but to close the dialog box.
	<li>The RO.Wdg package no longer includes unintended modules such as Tkinter. This was accomplished by adding __all__ to all modules that are automatically imported. (I was already used the _ prefix to excluded private constants, functions and classes, but the modules imported by each module were also showing up.)
	<li>Renamed RO.Wdg constants by adding prefixes as follows:
	<ul>
		<li>State constants have a prefix st_: st_Normal, st_Warning, st_Error
		<li>Toplevel closeMode constants have prefix tl_: tl_CloseDestroys, tl_CloseWithdraws, tl_CloseDisabled
	</ul>
	<li>RO.Wdg.Constants added to centralize widely used RO.Wdg constants.
	<li>RO.Wdg.Entry: removed DirectoryEntry and FileEntry. Dir and file preferences no longer use entry widgets (see RO.Prefs discussion above), so they are no longer useful.
	<li>Renamed RO.Wdg.ScriptWindow to RO.Wdg.PythonWdg to better reflect what it does and to avoid confusion with the new RO.ScriptRunner and RO.Wdg.ScriptWdg modules. Also modified to add a contextual menu.
	<li>Renamed RO.Wdg.PythonTk to RO.Wdg.PythonTk for the same reason.
	<li>RO.Wdg.StatusBar changes:
	<ul>
		<li>No longer shows informational messages while executing commands. Just showns warnings, errors and completion. This was done to make the display easier to read.
		<li>Added a helpText argument. Warning: if specified, this prevents the status bar from trying to show help and entry errors for other widgets in the same toplevel. helpText is typically only specified if you have more than one status bar in a toplevel, in which case one status bar should show help (as usual) and the others should have helpText strings (and thus not show help).
		<li>Inherits from RO.Wdg.CtxMenu, making it easier to customize its contextual menu.
		<li>Message levels documented to use RO.Wdg.st_Normal, st_Warning and st_Error constants. The numerical values have not changed, so old code will still work.
	</ul>
	<li>RO.Wdg.CmdReplyWdg: added support for the command message callback to report an error. Renamed event callbacks with leading _ to indicate they are internal functions. Deleted the old and redundant method showCmd.
	<li>RO.Wdg.CtxMenu changes:
	<ul>
		<li>Renamed AddCtxMenu to addCtxMenu, since it is a function.
		<li>Changed ctxShowHelp so that if a file: URL with an anchor cannot be loaded, it tries the same URL with the anchor stripped. This works around a limitation in MacOS X and possibly other platforms. (Note: in some earlier versions of MacOS X the anchor was silently ignored, but in 10.3.3 the file is not found.)
		<li>CtxMenu no longer checks if the widget already has a contextual menu. This was done to allow RO.Wdg.StatusBar to inherit from CtxMenuMixin.
		<li>Help url base handling moved to new RO.Wdg.Constants module.
	</ul>
	<li>RO.Wdg.DMSEntry: added unitsSuffix (for velocity).
	<li>RO.Wdg.LogWdg: the contextual menu now includes Copy.
	<li>RO.Wdg.RadiobuttonSet two bug fixes: set and setDefault could reject valid values and set invalid values because they were checking the new value against textList (the list of button names) not valueList (the list of button values). Also, the module was using importing RO.AddCallback but not importing it.
	<li>RO.Wdg.Text added to simplify read-only and contextual menu support.
	<li>RO.Wdg.Toplevel changes:
	<ul>
		<li>If wdgFunc fails, Toplevel propogates the error. As a result, ToplevelSet.createToplevel no longer creates an erroneous entry to a nonexistent toplevel if wdgFunc fails.
		<li>bug fix: toplevels that were distroyed were not handled well. Now getToplevel returns None if a toplevel has been destroyed (or does not exist). Also, a name can be reused if the old toplevel has been destroyed.
		<li>closeMode constants have prefix tl_: tl_CloseDestroys, tl_CloseWithdraws, tl_CloseDisabled
	</ul>
	<li>Added RO.Wdg.WdgPrefs to handle internal RO.Wdg prefs. This combines code that was formerly in RO.Wdg.Label and RO.Wdg.CxtMenu.
	<li>TUI.LogWindow: modified user command handling to complain when the user omits the actor (gives the usual audio cue and prints a message to the log window).
	<li>TUI.TUIModel: added logMsg method. This is the new standard way to report errors.
	<li>TUI quit made more robust: If an error occurred in disconnecting the hub connection while quitting TUI, quit would abort, leaving TUI running. This showed up during rewriting socket code (i.e. due to a temporary bug in sockets) and should never have affected users.
	<li>URL for tcl/tk updated in installation instructions.
</ul>

<h3>Version 0.85 2004-05-18</h3>

<p>Visible changes:
<ul>
	<li>Unix users may now use right-click to obtain contextual menus. (The introduction already claimed this was so, and it turned out there was no good reason not to do it).
</ul>

<p>Visible bug fixes:
<ul>
	<li>Automatic ftp would hang while connecting. (This was due to an error in the way runtui.py was running TUI, causing contention for the "import lock". Thus only users using runtui saw the problem.).
	<li>The main help page had a broken link to an obsolete page "Overview". Thanks to Oliver Fraser for the report.
	<li>The Focal Plane window did not fill the space well when enlarged.
</ul>

<p>Bugs discovered by pychecker (or in one case while debugging the ftp problem). I suspect most of these were invisible or had only very obscure and subtle side effects.
<ul>
	<li>TUI.Inst.ExposeInputWdg had code that referred to a nonexistent class variable.
	<li>TUI.Inst.DIS.DISModel: unbin had one reference to unbinnedCoors instead of unbinnedCoords.
	<li>TUI.TCC.StatusWdg.OffsetWdg._updObjXYOff used "except a, b:" instead of "except (a, b):" to catch two classes of exception, so the second class was being treated as a variable.
	<li>RO.Comm.GetFile and RO.Wdg.StatusBar: used sys.stderr to report some errors but did not import sys.
	<li>RO.SeqUtil: flatten was called flattenList in a few places, breaking the flatten function.
	<li>RO.Wdg.CmdReplyWdg: did not create self.cmdText if helpURL not supplied.
	<li>RO.Wdg.Toplevel.ToplevelSet: referred to defGeomFixDict instead of defGeomVisDict
</ul>

<h3>Version 0.843 2004-05-03</h3>

<p>Bug fixes:
<ul>
	<li>The following fixes are for the Calibrate panel of the Slew window:
	<ul>
		<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=34">PR 34</a> the Calibrate panel did nothing if the default options were used (altering any checkbox from its default value would make the calibrate command work). Thanks to Russet McMillan for reporting this.
		<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=37">PR 37</a> the Find Ref Slew checkbox could cause the entire slew command to be rejected if unchecked (because it was sending the wrong keyword).
		<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=38">PR 38</a> the calibrate options in the slew window would usually cause the slew command to time out (because the time limit was not expecting an integration).
	</ul>
	<li>The following fixes are for the FTP Log window (only noticeable if ftp is working so badly that you probably cannot use it anyway):
	<ul>
		<li>Abort button not shown while connecting.
		<li>Aborting connections were counted as running and thus blocked new connections from starting.
	</ul>
</ul>

<h3>Version 0.842 2004-03-11</h3>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=30">PR 30</a> the catalog menu was broken in 0.84 and 0.841. Thanks to Bill Ketzeback for reporting this.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=31">PR 31</a> focus commands from the Secondary Focus window could time out if somebody else was moving the secondary. (The command assumed the mirror would <i>start</i> moving within 10 seconds). Fixed by eliminating the time limit.
</ul>

<h3>Version 0.841 2004-03-09</h3>

<p>Bug fixes:
<ul>
	<li>TUI 0.84 failed to start under unix due to a bug in Main.py. Thanks to Craig Loomis for both reporting and diagnosing the problem.
</ul>

<h3>Version 0.84 2004-03-08</h3>

<p>Visible changes:
<ul>
	<li>User Catalog improvements
	<ul>
		<li>Multiple user catalogs may be open at the same time.
		<li>Long user catalogs are divided into manageable pieces in the Catalog menu in the Slew window.
		<li>You can control whether a catalog is displayed in the Sky window and if displayed, the color used. For now this can only be set by editing the catalog, but I hope to add a more direct interface at some point.
		<li>User catalogs and preference files may use any standard newline character (\n, \r or \r\n), but only for users with Python 2.3 or later (because universal newline support is not available in Python 2.2.x). The MacOS X prebuilt executable uses Python 2.3, so Mac users are all set.
	</ul>
	<li>All windows except Message, Log and APO's Permissions now play the "Command Done" and "Command Failed" sounds at the appropriate times. This was added to Focus, Offset, Slew and the various Expose windows.
	<li>TUI additions can now have windows listed in the TUI menu. These appear in alphabetical order below Refresh Display. This enabled the next change...
	<li>APO's Permissions window now appears in the TUI menu instead of the Misc menu. Unfortunately, this change means the window's current size and location will be forgotten. You must set it again and select Save Window Positions, or edit the TUIGeom file and change Misc.Permissions to TUI.Permissions to preserve your old setting.
	<li>The Refresh Display menu item is now disabled when the you are not connected.
	<li>It is now easier to launch TUI. Simply set up an alias or shell script that performs: python <i>tui_root</i>/runtui.py. There is no longer any need to mess with the PYTHONPATH.
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=26">PR 26</a> the status bar text sometimes stays red, even though things are back to normal. This occurs after you try to execute a command with invalid inputs (i.e. start an exposure without specifying exposure time). Thanks to Bill Ketzeback for reporting this.
	<li>This version history document had a title of "Overview".
</ul>

<p>Internal changes:
<ul>
	<li>Modified RO.Wdg.Toplevel to read geometry files using universal newline support (but only on Python 2.3 or later, because universal newline support is not available in Python 2.2.x).
	<li>Modified RO.Prefs.PrefVar to read prefs files using universal newline support (but only on Python 2.3 or later).
	<li>Simplified the script that generates the Mac executable.
	<li>Modified RO.Wdg.StatusBar to optionally play "Command Done" and "Command Failed" sounds as appropriate.
	<li>Fixed a bug in RO.Wdg.StatusBar that caused the text to sometimes not be reset to the normal color.
</ul>

<h3>Version 0.831 2004-02-06</h3>

<p>Bug fixes:
<ul>
	<li>The file RO/OS/getWinDirs.py had Mac line endings, making it fail under some versions of Python earlier than 2.3 (thanks to Jon Holtzman for the report). People using Python 2.3 or later do not need to upgrade. There will not be a Mac binary since 0.83 works fine.
</ul>

<h3>Version 0.83 2004-02-05</h3>

<p>Visible changes:
<ul>
	<li>The TUI prefs and geometry files are now located
	in the standard location on Mac and Windows (using proper
	system calls to find these directories even on non-English systems). There has been no change on unix. The file names and locations are documented <a href="../TUIMenu/PreferencesWin.html#PrefFile">here</a>. Mac users must rename and move their files for them to be seen in the new location.
	<li>The locations for TUI additions have been changed to better support double-clickable applications (e.g. MacOS X). This affects all users with TUI additions (e.g. APO).
	<li>TUI shows what it's doing in the log window as it searches for additions and loads them (during startup).
	<li>Added an icon to the MacOS X executable.
</ul>

<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=20">PR 20</a> The Choose... button in Preferences:Auto FTP:Save To did not work. (A typo in RO.Prefs.PrefVar.py). Thanks to Bill Ketzeback for reporting this.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=24">PR 24</a> The positions from the user's catalog displayed in the Sky window do not automatically update. (The code was there but had a minor bug). Thanks to Bill Ketzeback for reporting this.
	<li>The Mac application build script had a hard-coded link to one of my directories.
</ul>

<p>Internal changes:
<ul>
	<li>(none)
</ul>

<h3>Version 0.82 2004-01-29</h3>

<p>Visible changes:
<ul>
	<li>The first version with a double-clickable executable for MacOS X (10.3 only). See the <a href="../Installation.html">installation instructions</a> for the download address and Mac-specific notes.
</ul>

<p>Bug fixes:
<ul>
	<li>Exposure countdown timer would restart and files might be (re)transferred if anyone connected or refreshed their display. This was introduced in 0.80 and was caused by using the "keys" cache to refresh exposure data. Fixed by avoiding certain actions if data is from the cache.
</ul>

<p>Internal changes:
<ul>
	<li>Modifies Main.py to make it easier to create a Mac standalone executable (it no longer assumes it is in the TUI directory) and improved error reporting (to simplify building future standalone versions).
	
	<li>Included a link to the TUI distributions in the installation instructions.
</ul>

<h3>Version 0.81 2004-01-09</h3>

<p>Visible changes:
<ul>
	<li>Added a Secondary Focus window (under the TCC menu).
</ul>

<p>Bug fixes:
<ul>
	<li>(none)
</ul>

<p>Internal changes:
<ul>
	<li>The TCC displays are refreshed from data cached in the hub. This may speed refresh when connecting.
	
	<li>Added setKeysRefreshCmd to RO.KeyVariable.KeyVarFactory. This makes it easy to get just the desired data and no other.
	
	<li>Removed refreshKeys arg from KeyVar; use KeyVarFactory.setKeysRefreshCmd instead.

	<li>Most keywords that refresh via "keys" (reading from the hub's cache) now explicitly specify the desired keywords (via KeyVarFactory.setKeysRefreshCmd). This avoids asking for extra unwanted data.
</ul>

<h3>Version 0.80 2003-12-29</h3>

<p>Visible changes:
<ul>
	<li>Added an Echelle configuration window. (Note: it has no "expert mode"; a separate window for collimating the Echelle is planned for the future.)
	
	<li>Instrument displays (but not yet telescope displays) are now refreshed from data cached in the hub. This will speed up refresh when connecting (especially for instruments that are in use!).

	<li>(APO only) added a Permissions window. <b>Warning</b> this only controls permissions for users connected to the new hub. Remark users (and users of the developmental hub) are not affected.

	<li>Simplified adding widgets to TUI. Now any windows code placed in packages TUISharedAdditions or TUIUserAdditions are loaded so long as they are on the python path. Thus your additions no longer have to be in the TUI release directory tree (and in fact the "Local" directory is now ignored). See the Programming manual for details.
</ul>

<p>Bug fixes:
<ul>
	<li>Sounds play more reliably. I converted the sounds from .aiff to .wav format because the snack sound library seems to handle wav files more reliably. I still sometimes hear odd extra pops and such, and may end up switching to a different sound library.
</ul>

<p>Internal changes:
<ul>
	<li>Reorganized the source code and HTML help files for items in the TUI menu (by adding a TUIMenu subdirectory for help and another one for source). Also, I replaced TUIWindow.py (which loaded all windows in the TUI menu) with separate files for each window.

	<li>Improved RO.Wdg.Checkbutton:
	<ul>
		<li>set and setDefault are now compatible with KeyVariable addROWdg.
		<li>Added showValue parameters.
	</ul>

	<li>Added BoolLabel to RO.Wdg.Label.

	<li>Extended RO.Wdg.OptionMenu.getIndex so one can supply an item name.

	<li>Added RO.Wdg.ScrolledWdg.

	<li>Improved RO.Wdg.Toplevel so the size of a window that can only be resized in one dimension is saved and restored. (Tk does not make this easy, but I finally figured out a way to do it.)
</ul>

<h3>Version 0.77 2003-12-08</h3>

<p>Visible changes:
<ul>
	<li>Added improved sound queues (especially if the snack sound library is installed). You can specify your own sounds using the Sounds panel in Preferences.
	<li>Added a Users window (under the TUI menu).
	<li>Added guiding status to Status window.
	<li>Added a history menu to the Offset window.
	<li>The Offset button is disabled while the command executes.
</ul>
<p>Bug fixes:
<ul>
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=15">PR 15</a>: Slew option panels cannot be opened.
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=8">PR 8</a>: Offsets may claim they timed out (though in fact they do complete).
	<li><a href="http://pod.apo.nmsu.edu/PRs?database=APO&amp;cmd=view+audit-trail&amp;pr=10">PR 10</a>: When TUI received a single keyword with an = and no values, it would go into an infinite loop.
	<li>The user catalog documentation had a residual claim that the default coordinate system is ICRS (it is FK5, as the same document said elsewhere).
	<li>If DIS was not initialized, TUI got fairly upset with some of the data returned (lots of messages logged to the console).
	<li>While making a connection, the message "Connecting" was repeated in the log several times.
	<li>The status bar sometimes showed old status after a new command started.
</ul>
<p>Internal changes:
<ul>
	<li>Added TUI/Sounds/, a directory in which sounds can be placed (and which also contains a sound player, moved from TUI/Sound.py).
	<li>Added RO.Wdg.DirectoryEntry and FileEntry.
	<li>Added RO.Prefs.PrefVar.FilePrefVar and SoundPrefVar.
	<li>Modified RO.KeyVariable to support variables with varying numbers of values.
	<li>Fixed a bug in RO.PVT that allowed generating invalid PVT objects (set checked the data but __init__ did not).
</ul>

<h3>Version 0.76 2003-11-04</h3>

<p>Visible changes:
<ul>
	<li>Added a Catalog menu to the Slew window. Catalogs have a very similar format to Remark catalogs, but are more flexible. See <a href="../Telescope/UserCatalogs.html">User Catalogs</a> for details.
	<li>The default coordinate system in the Slew window has been changed to FK5. This was done by request and to match Remark catalogs.
	<li>Overhauled the Sky window (formerly called Telescope):
	<ul>
		<li>Objects from the user catalog are displayed.
		<li>Double click an object to set it up in the Slew window.
		<li>I flipped the display so east is on the left, because that is the usual standard for displaying stars.
	</ul>
	<li>Added automatic scrolling to the FTP Log window.
	<li>If a History or Catalog item has proper motion or drift scan velocity data, the appropriate option panel is automatically opened, so the data will be used. The other (more obscure) option panels still don't open automatically; you have to open them manually to use special settings.
</ul>
<p>Bug fixes:
<ul>
	<li>The Config... button was broken in the GRIM Expose window.
	<li>The DIS Config window could report a few errors while reconnecting.
</ul>
<p>Internal changes:
<ul>
	<li>Added the "potential" object and the user's catalog to TUI.TCC.UserModel. All communication between different TCC toplevel windows is now done via the userModel, allowing me to simplify the code that opens TCC windows.
	<li>Modified RO.Wdg.OptionPanelControl to allow panels to open or close themselves.
	<li>Fixed a bug in RO.Wdg.Entry setRange: it was trying to make sure the default was in range, even if there was no default. That caused the DIS COnfig bug mentioned above.
	<li>Modified RO.InputCont containers to not restore defaults during creation. It is unnecessary for RO.Wdg widgets and can cause trouble by prematurely triggering callbacks.
</ul>

<h3>Version 0.75 2003-10-22</h3>

<p><b>Warning:</b> this version of TUI uses a new version of the hub. The new hub will not work with older versions of TUI!</p>

<p>Visible changes:
<ul>
	<li>Offsets are now always computed. This is by observatory request; immediate offsets turn out to cause violent and potentially harmful motion of the telescope. As a consequence, offsets will take longer, but you will see a slew countdown timer for each offset.
	<li>Instruments:
	<ul>
		<li>You will not be notified immediately if you specify too short an exposure time.
		<li>Changed the DIS configure window to use binned pixels for the CCD window.
		<li>If the configuration controls are visible when you connect,	the controls are automatically updated as the current configuration data comes in (but fields you have already filled in are left alone).
		<li>Modified file name entry field to prevent invalid names.
	</ul>
	<li>Connect dialog box:
	<ul>
		<li>Added status bar help.
		<li>If the User Name field is blank (as is usual for a new user) then it is updated "live" if you set the User Name preference.
		<li>The Cancel button now leaves dialog open, so you can easily try again.
		<li>The password field is always cleared when you close the window rather than after any attempt to connect.
		<li>Changed Program Name to Program ID to match a new, unified naming convention.
	</ul>
	<li>Preferences:
	<ul>
		<li>Preferences are faster to apply and save, because only preferences that you change are now applied. Font and color preferences are still rather slow to apply.
		<li>Preferences show status as you apply or save them. (Formerly some of these messages were sent to the console.)
	</ul>
	<li>Two documents: "TUI:Overview" and "TUI:Changes from Remark" have been combined into "TUI:Introduction". This is the recommended quick start guide for new TUI users.
</ul>
<p>Bug fixes:
<ul>
	<li>Slew Window bugs
	<ul>
		<li>Long slews always timed out.
		<li>The history menu in the Slew window was broken.
		<li>The Slew button in the Slew window was not disabled when a slew was started.
	</ul>
	<li>Instrument-related bugs
	<ul>
		<li>GRIM darks failed (the word "darK" was not being sent).
		<li>DIS Expose mis-handled the case of a camera not being used. The associated filename was reported as <i>subdir/</i>None and auto ftp would then try to fetch that file.
		<li>DIS overscan was incorrectly identified as being in unbinned pixels.
	</ul>
	<li>Auto FTP bugs
	<ul>
		<li>Auto ftp would fail if the local directory did not exist. (Note: Preference only allows selecting a local directory that does exist, so this bug was not likely to affect many people.)
		<li>Automatic ftp would fail unless the "Get Collab" checkbox was checked.
	</ul>
</ul>
<p>Internal changes:
<ul>
	<li>Rewrote the underlying socket library. Connections now occur in the background, meaning your TUI won't freeze while the hub is being found.
	<li>Changed to match changes in the hub. In particular:
	<ul>
		<li>Every message is tagged with <i>progID</i>.<i>cmdr</i> instead of just <i>cmdr</i>.
		<li>The expose commands have changed from <code>expose inst=<i>inst</i></code> to <code><i>inst</i>Expose</code>. This is a side effect of splitting the expose code into one process for each instrument, making the system potentially more robust (not that the old system was giving trouble, but it's still a welcome change; thanks, Craig!).
		<li>Adapted to new, improved versions of expose keywords <i>inst</i>Files and <i>inst</i>NextPath, <i>inst</i>expState and <i>inst</i>seqState.
		<li>Authorization keyword changed from username to cmdrID.
		<li>Modified message parser to allow a leading period in the commander (which is now how unsolicited messages are transmitted.) Thanks to Craig for the tip.
	</ul>
	<li>Running auto ftp no longer stalls while quitting. However, any files being written will be incomplete. (Note: I intend to overhaul the ftp library in the same fashion as the socket library, but that is for some future version.) Thanks to Craig for help with this.
	<li>Stopped stripping leading slashes from the name parameter for expose commands; the hub no longer requires this.
	<li>Totally overhauled the internal handling of CCD window (only relevant for DIS, so far). This was necessary to do a good job with supporting specifying the window in binned coordinates.
	<li>RO.Wdg.Entry widgets handle final value checking more aggressively by pulling focus back to the widget on error.
	<li>The beep signalling an entry error was moved from the entry error event generator to the event handler in RO.Wdg.StatusBar. This is in preparation for handling errors in user catalogs.
	<li>Changed RO.Wdg.RadiobuttonSet's definition of "enabled". Now a RadiubuttonSet is assumed to be enabled if any of the buttons is enabled. This seems to match reality better and it fixed the GRIM dark bug mentioned below. Note that the programmer is responsible for making sure only enabled choices are selected.
	<li>Connect dialog box overhauled to use RO.Wdg.Gridder and RO.Wdg.StatusBar, thereby simplifying the code and making it possible to add status bar help.
	<li>RO.Wdg.Entry widgets modified so that setDefValue updates the displayed value if blank (can be turned off via defIfBlank flag).
	<li>Changed RO.KeyVariable.KeyCommand.addCallback to force message types to lowercase. This avoids a class of problem that was represented by long slews always timing out.
</ul>

<h3>Version 0.70 2003-09-30</h3>

<p>Visible changes:
<ul>
	<li>Added automatic ftp of images.
	<li>DIS Expose, GRIM Expose and Echelle Expose windows and a GRIM window for status and configuration. The Echelle still has no status and configuration window.
	<li>Save Window Positions now also saves whether the window is open or closed. Thus you can have your favorite windows open when you launch the program. (Still to do: update the manual entry and hot help for Save Window Position)
	<li>Errors that TUI generates (such as command timeouts) are now fully standard and so look more normal in the log window.
	<li>Simplified the drift scan widget. Instead of a menu to choose between RA/Dec or Vel/Angle entry, both ways of looking at the data are always shown and you can set whichever you like (the other is automatically updated). Also, entry is in d:m:s instead of decimal degrees.
	<li>The DIS configuration panel always opens to the current configuration. Thus you can reset the controls to the current configuration by hiding them and showing them again, if you prefer that to pushing the Current button.
	<li>Fixed text input widgets to only accept ASCII. This is all the system supports and trying to send non-ascii characters causes myriad problems.
</ul>
<p>Internal changes:
<ul>
	<li>Overhauled RO.InputCont. The class itself is much simpler and formatting functions are more powerful. However, I reduced the maze of options, so you may have to write your own formatting functions more often. The value dictionaries have also been simplified, which is something I wanted for implementing user catalogs.
</ul>
<p>Bug fixes:
<ul>
	<li>Some DIS configure controls came up blank and so were shown as modified.
	<li>The drift scan widget was not always properly restored from the history menu.
	<li>The "bad background" color was not affected by the
	relevant preference. (Thanks to Russet McMillan.)
</ul>

<h3>Version 0.67 2003-06-19</h3>

<p>Visible changes:
<ul>
	<li>Added Refresh Display command to the TUI menu.
	<li>Hour angle is shown in the range (-12, 12] insted of [0,24).
	<li>Added "hot help" strings to Status, Slew, Offset and DIS windows (and added a status bar to the Status window to show the new help).
	<li>Improved the html help for the DIS window.
	<li>Swapped Abs and Rel buttons in the Offset window so as to match Remark.
	<li>Net position, offsets, etc. are upated 1/second if they have nonzero velocity. One exception is axis position (axis controller velocity is not regularly sent to TUI, so fixing this would be a big job).
</ul>
<p>Bug fixes:
<ul>
	<li>The slew countdown timer was not shown for all slews (due to TCCStatus sometimes issuing one last "tracking" report after SlewDuration seen). Thanks to Bill and Russet.
	<li>The log window was not initially scrolled to the bottom (due to a change in the graphics library, i.e. this used to work fine).
</ul>
<p>Internal changes:
<ul>
	<li>Overhauled the DIS status/config window code, as planned. It now makes a reasonable model for other instruments (though I would still like to overhaul RO.InputCont to make it easier to use).
	<li>Added TUIModel, which contains the dispatcher, prefs, etc., and refactored the code accordingly. This is analogous to the TCCModel and DISModel and saves passing fundamental application globals around.
	<li>Updated and expanded the programming manual.
	<li>The keyword dispatcher is no longer sensitive to the case of the keywords.
	<li>The keyword dispatcher checks command replies purely by commander and message ID (no longer by actor). This means if the hub rejects a message (e.g. due to the hub not being connected to the TCC) the message will be reported as failed right away instead of having to time out.
	<li>Finished changes for Python 2.3b1 compatibility.
	<li>Fixed several common cases where a coding error would cause a brief error message on the console but no traceback (making debugging a pain).
</ul>

<h3>Version 0.66 2003-04-29</h3>

<ul>
	<li>Added very basic sound queues: 2 beeps for end of slew,
	3 beeps for the failure of a long command (presently only
	configuring DIS).
	<li>Slew window improvements: rotator angle limits are now correctly read from the TCC if rotation type = mount, and the rotator angle is correctly disabled if rotation type = none.
	<li>Simple Offset renamed to Offset
	<li>Settled on DIS control style 2: status and config combined in one window, exposure controls and status in another. Note: the code for the status/config widget is still rather messy and wants refractoring.
	<li>Added a prototype (nonfunctional) DIS exposure window. Making it operational awaits nexpose support in the hub.
	<li>Contextual menu improvements: control-click works for any button on unix; control-click was not working on Mac and now works for any button.
	<li>Fixed the bug that read-only entry widgets had a "clear" contextual menu item by default. Now they never have any value-setting entries. Same for disabled widgets.
	<li>Fixed known bug that DIS config "!" would not update if somebody else changed the DIS configuration.
	<li>Preliminary changes to make TUI compatible with Python 2.3
	(while retaining compatibility with Python 2.2.1). More changes and more testing are required.
</ul>

<h3>Version 0.65 2003-04-18</h3>

<ul>
	<li>The offset control and display have been updated as agreed on a phone con.
	<li>Status bars show short help strings, if present. All prefs have this help. Some other regular data entry widgets (where I thought it would help) also have it. Not all windows have status bars, but they are easy to add if we decide some extra help is wantd.
	<li>Preferences improved: the pop-up menus have been replaced by contextual menus. Also there is now a linkage to the html help (though the new short one-liner help strings are more likely to be useful).
	<li>Refinements to the DIS windows. Please try both systems (while thinking about where the exposure controls will go) and let me know which one you prefer. I also plan to run these by some local DIS users.
	<li>Renamed the font preferences in an attempt to make them clearer. As a result, you may have to reapply your font preferences.
	<li>Modified the "keep offsets" pane in the slew window to use the new offset naming scheme. Ditched tcc-style (additive) object offsets from this panel--thus they are never saved.
	<li>Removed radial velocity from the proper motion panel.
	<li>Bug fix: I finally figured out how to stop ButtonRelease-2 from pasting the selection on MacOS X. Yaay!
</ul>

<h3>Version 0.61 2003-04-07</h3>

<ul>
	<li>Bug fix: instrument scale in the telescope model was not being updated, which made the Focal Plane display have the wrong handedness for many instruments.
</ul>

<h3>Version 0.60 2003-04-04</h3>

<ul>
	<li>Added Simple Offset widget (in TCC menu).
	<li>Added display of arc/sky offset and boresight to the Status window.
	<li>The Focal Plane window now displays instrument x and y; still working on fine tuning it (user-adjustable colors are coming). I gave up on having the the different arms of an axis different lengths, but may have another try at that. The problem is that having the two labels at a different radii and trying to get the labels of the various axes to not stomp on each other really eats space, and the problem gets worse with more axes.
	<li>Added an experimental second DIS configure window to try out. This one has no checkboxes. Please give me feedback, but please be sure you actually understand each widget and use it before passing judgement. I hope a consensus emerges, but if not, I'll make the final choice.
	<li>Improved the layout in the DIS windows.
	<li>Labels and units now have the same help pop-up menu is their data items.
	<li>Entry widgets now have Clear and Default pop-up menu items. I intend further improvements here (Default is not always the best label and is simply confusing clutter if the default is always "").
	<li>Internal change: replaced all use of RO.Wdg.LabelledWdg with RO.Wdg.Gridder. Although further internal cleanup will certainly occur, this completes the main work. At this point the existing code is a good model for writing new widgets.
	<li>Internal change: replaced all use of RO.CmdMonitor with the new RO.Wdg.StatusWdg. In a future version I plan to display error messages about invalid input in the status window and also may hook up hot help (hold the mouse over a control for a short description in the status window).
	<li>Bug fix: messaging window repeatedly showed most recent message after disconnect (thanks, Bill Ketzback)
	<li>Bug fix: the automatic window loading code was broken on Windows (thanks, Craig Loomis).
	<li>Bug fix: DMS strings were missing their minus sign for small negative values.
</ul>

<h3>Version 0.50 2003-03-28</h3>

<ul>
	<li>Added an "instant messaging" window (in the Misc menu).
	<li>Added a mirror status window (in the TCC menu).
	<li>Windows are now automatically found and loaded at startup. This makes it easy to add custom windows. See the programming manual for details.
	<li>DIS change: made CCD window and overscan details in DIS Config, and made window a detail in DIS status (overscan was already a detail in that panel).
	<li>Improved the dispatcher's handling of automatic refresh commands: if a refresh command fails, it is not repeated (until one disconnects and reconnects); if a refresh command succeeds but does not update its keyword variable, an error is reported and that keyword variable's refresh command is erased.
	<li>Added a TCC model to simplify TCC-related widgets.
	<li>The rotator controls in the Slew window are disabled if there is no instrument rotator.
	<li>Bug fix: the Slew window History menu sometimes failed (for mount or phys coords, due to restoring position before coord sys and thus applying the wrong azimuth limits).
	<li>Bug fix: the DIS Config window was not linked to its help.
	<li>Bug fix: no unix binding for contextual menus (due to expecting the wrong value for sys.platform).
	<li>Bug fix: Mac button 2 sometimes pasted text (fixed in Bindings.py).
</ul>

<h3>Version 0.45 2003-03-21</h3>

<ul>
	<li>Prototype implementation of DIS support. The main omission is lack of exposure control (which awaits hub support for nexpose).
	<li>Added help to the Status window; the one window still missing help is Prefs.
	<li>Bug fix: the help system was broken on some unix.
</ul>

<h3>Version 0.40 2003-03-05</h3>

<ul>
	<li>Implemented Craig's security model. You can now connect from anywhere with a suitable "program name" and associated password. Note that your chosen username will now be used to tag your messages (though the Hub may alter it a bit, if necessary, to make it unique).
	<li>Add a "General" category to the help files and moved some existing documents there.
	<li>Fixed cmd-A = "Select All" on Mac OS X (the keyboard shortcuts had to be changed for aqua Tk); I have not attempted to add this feature to other platforms, but would be happy to do so if somebody tells me the standard keyboard shortcut.
	<li>Two fixes to read only widgets (such as the log window): keyboard shortcuts for Copy and Select All (if any exist) now work, and Paste Selection has been blocked.
</ul>

<h3>Version 0.30 2002-12-27</h3>

<ul>
	<li><b>Incompatible Changes</b>:
	
	<ul>
		<li>Renamed the main script <code>TUI/TUI.py</code> to <code>TUI/Main.py</code>. This eliminates an ambiguity between the TUI module and the TUI script. This change requires you to run TUI by executing Main.py instead of TUI.py. If you have an alias set up (highly recommended), you will have to change it.
		
		<li>This is the first version that talks to the hub (which at the moment only talks to the DIS and the TCC). Before connecting, you must change the host setting in your preferences. Talk to Craig Loomis or Russell Owen for details.
	</ul>
	
</ul>

<h3>Version 0.24 2002-12-05</h3>

<ul>
	<li><b>Incompatible Change</b>:
	
	<ul>
		<li>The settings files .TUIPrefs and .TUIGeom are now stored in your home directory, if you have one (e.g. on unix and MacOS X). Formerly they were stored in whatever directory you used to launch TUI. If you have settings you wish to preserve, please move these two files.
	</ul>
	
	
	<li>On-Line Help:
	
	<ul>
		<li>Added on-line help via contextual menus and a new Help menu in the Status window menu bar.
		
		<li>Most controls have a help contextual menu; others will gain it over time.
		
		<li>Due to limitations in Tk, you will not get the help contextual menu if you click on a window background (frames don't produce the necessary events). Fortunately, this is not an issue in graphic displays (e.g. the Telescope and Focal Plane windows).
		
		<li>The old manual is superceded by this new help system.
	</ul>
	
	
	<li>Command Status:
	
	<ul>
		<li>Added a command status display to the Slew window. This is a preliminary implementation. I hope to use this display to show data entry error messages and/or allow the user to obtain greater detail for the command status. These enhancements may conflict with each other and so I've not quite figured out how to proceed.
	</ul>
	
	
	<li>Fixes:
	
	<ul>
		<li>Bug fix: object position 2 could never be less than 0, which was wrong for most coordinate systems. (Thanks to Bill Ketzeback.)
		
		<li>Bug fix: entering a command in the log window would not reliably cause the log window to scroll to the bottom. Fixed by adding an update_idletasks to CmdLogWdg; we'll see if this is a complete fix. (Thanks to Russet McMillan.)
		
		<li>Bug fix: command history recall in the log window would append an extra character to the recalled command (possibly only in MacOS X aqua Tk since I don't remember ever seeing this before). Fixed by not propogating key events for previous and next command.
		
		<li>Bug fix: certain windows (including About TUI and Preferences) would not come to the front when first requested. This was probably only in MacOS X aqua Tk since I don't remember seeing it before. Fixed by doing a lift after wm_deiconify.
		
		<li>Changed the log display to be read only. It may not be
		bulletproof; if you find some way to modify the text that
		should not be allowed, please let me know.
		
		<li>Removed the debug info that was printed whenever an object position was changed in the Slew window.
	</ul>
	
</ul>

<h3>Version 0.23 2002-11-22</h3>

<ul>
	<li>Sexagesimal fields after the first must be less than 60.
	
	<li>Changed rotator mount angle to be 0 up, + to the right, as requested by Russet; the sign matches the NA2 rotator (as seen by the operator and instrument); the 0 point is irrelevant so long as it makes sense.
	
	<li>Bug fix: the focal plane display was always right-handed; IImScale was being ignored, though all the hooks were in place.
</ul>

<h3>Version 0.22 2002-08-09</h3>

<ul>
	<li>When running on the Mac platform, added standard key bindings for cmd-X (cut), cmd-C (copy), cmd-V (paste) and cmd-A (select all). The same module makes it very easy to add bindings for other platforms (though I assume the defaults are already fine on unix).
	
	<li>Implemented automatic enabling and disabling of the Slew button based on whether a valid slew position has been entered and whether the object has been slewed to. The button is disabled after a slew, to indicate you've already gone to this position. To re-enable the current object, select it from the history or change any field and change it back (the name field is handy for this).
	
	<li>Ditched the "Enable" button in the Slew widget. This is an experiment; all code for the button is still present, I am simply not painting it. With the automatic enabling of the slew button it didn't seem very useful.
	
	<li>Proposed position is now shown on the Telescope display (as a yellow X). I also hope to add display of likely azimuth wrap and at least an approximation of the rotation angle. However, rotation angle will take a lot of additional code.
	
	<li>Bug fix: if no rotator, could repeatedly ask for axis status.
</ul>

<h3>Version 0.21 2002-06-12</h3>

<ul>
	<li>Commands that you send or refresh commands sent automatically are now reported to the log window. You can filter out refresh or all commands.
	
	<li>Command timeout is reported as an error.
	
	<li>Commands in Slew window have reasonable time limits. In particular, the slewing time limit is updated when the SlewDuration keyword is seen for that specific slew and no other.
	
	<li>Changed the orientation of the rotator wrap spiral to match the azimuth wrap spiral (0 down, + to the right) and made its appearance more similar.
	
	<li>The choice of rotation types is now properly restricted based on coordinate system. If the current rotation type is incompatible with the new coordinate system, the rotation type is set to None.
	
	<li>Added "N" and "E" labels to the sky widget.
	
	<li>Changed the axis labels in the FocalPlane widget to the standard data font. (Note: if you change the font the axis labels are updated but their positions are not; they will not be recalculated until you quit and restart the program.
</ul>

<h3>Version 0.20 2002-04-29</h3>

<ul>
	<li>Window positions may now be saved.
	
	<li>Added the TCC menu (an Inst menu will follow in due
	course).
	
	<li>You can now reopen any window you can close (using the TUI and TCC menus).
	
	<li>You can no longer close the Status window (formerly you could, but it killed TUI to do so). To quit TUI, select Quit from the TUI menu.
	
	<li>The Python script window is now hidden by default.
</ul>

<h3>Version 0.19 2002-04-23</h3>

<ul>
	<li>Added partial preferences implementation. It handles colors and fonts, but not window positions.
	
	<li>Improve reliability of connecting and disconnecting.
	
	<li>Improve handling of the case of no instrument rotator.
	
	<li>Re-enabled active update of rotator limits (requires TCC 2.6 or later).
	
	<li>Added display of secondary and guide camera focus.
	
	<li>Various minor bug fixes (handles coordsys=None, handles	coordsys background color, rotator position not always displayed as soon as it could be...).
</ul>

<h3>Version 0.182 2002-01-25</h3>

<ul>
	<li>Improved handling of background color in numeric displays.
</ul>

<h3>Version 0.181 2001-12-26</h3>

<ul>
	<li>Corrected temporary fixed rotator limits for NA2: were &#91;-180, 360&#93;, corrected to &#91;-360, 360&#93;.
</ul>

<h3>Version 0.18 2001-12-19</h3>

<ul>
	<li>Added axis status display.
	
	<li>Added a progress bar for slews.
	
	<li>Entering a command in the log window scrolls the log to the end (suggested by Russet).
	
	<li>The rotator wrap is now displayed for the maximum range of the NA2 rotator. This may not be the full range for all instruments, but is better than nothing. It will be fully correct once TCC 2.6 is available.
</ul>

<h3>Version 0.17 2001-11-29; manual updated 2001-12-08(?)</h3>

<ul>
	<li>Improved initial window placement.
	
	<li>Added remaining window titles.
	
	<li>Minor bug fix: LMST could be &gt;24.
	
	<li>Slew button comes up disabled.
	
	<li>Disabled rotator wrap display until TCC 2.6 released (it can be viewed when talking to tccdev with a bit of reconfiguration).
	
	<li>Known limitations updated based on feedback from Russet (2002-12-08?).
</ul>

<h3>Version 0.16 2001-11-15</h3>

<ul>
	<li>Greatly improved the log window, including:
	
	<ul>
		<li>Auto-scroll is disabled if the thumb is not at the bottom (so you can stare at something of interest while new data comes in)
		
		<li>You can now search for text
		
		<li>If the insertion cursor is in a particular location in the log window and you then show or hide categories of messages, the window scrolls to keep the cursor visible. Hence if you want to examine a particular error, you could hide informational messages (to make it easier to locate the error of interest), click in the error text, then click on the checkbox to show informational messages again. You will now see the error message in context, i.e. surrounded by its informational messages.
	</ul>
	
	
	<li>The script window and connection/log window now automatically put the focus in the right initial location
	
	<li>The Sky widget no longer displays debugging messages to the log window.
</ul>

<h3>Version 0.15 2001-11-06</h3>

<ul>
	<li>The first version that was documented and made publicly available for comments.
</ul>
</body>
</html>
