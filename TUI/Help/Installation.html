<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head>	<title>TUI:Installation</title></head>	<h2><a href="index.html">TUI</a>:Installation</h2><h2>Contents</h2><ul>	<li> <a href="#Introduction">Introduction</a>	<li> <a href="#Mac">Installing on MacOS X</a>	<li> <a href="#Unix">Installing on Unix</a>	<li> <a href="#Windows">Installing on Windows</a>	<li> <a href="#History">History</a></ul><a name="Introduction"></a><h2>Introduction</h2><p><a href="index.html">TUI</a> is the new user interface for the <a href="http://www.apo.nmsu.edu/">APO</a> 3.5m telescope. It is written in <a href="http://python.org/">Python</a> (a free cross-platform language) and runs on unix and MacOS X. This document describes how to install TUI on your computer.<h2><a name="Mac"></a>Installing on MacOS X</h2><ul>	<li>Download <a href="http://tycho.apo.nmsu.edu:81/TUI-images">TUI for Mac</a>: TUI_<i>vers</i>_Mac.sitx. Note that TUI for Mac requires MacOS X 10.3 or later.	<li>Unpack using StuffIt Expander 7 or later. StuffIt Expander is included with MacOS X.	<li>Drag the resulting application into your Applications folder or anywhere else you like.	<li>Create a dock entry by dragging the application onto your dock.</ul><h3>Notes for MacOS X</h3><p>Some internal errors are reported to the console. If TUI is acting oddly or exits unexpectedly, please open the console (by running /Applications/Utilities/Console) and report any TUI output.<p>TUI on MacOS X relies on the Aqua version of TK, which has several cosmetic bugs. Here the the main bugs and suggested workarounds:<ul>	<li>Controls are occasionally not painted when a window is first drawn. Clicking on an invisible control will cause it to be drawn.	<li>Buttons and menus are always shown in the default aqua font, regardless of your choice in Preferences, but if you pick a very small font the body of the control may get small enough to clip some of the text.</ul><p>TUI for Mac requires MacOS X 10.3. It will quit instantly if you try to run it on MacOS X 10.2, leaving an obscure message in the console. This is a limitation of python's Mac application builder; it has nothing to do with TUI. If you are desperate to run TUI under 10.2 you can build it from source, as described below. But I strongly recommend upgrading to 10.3.<a name="MacBuild"></a><h3>Building From Source for MacOS X</h3><p>You can build TUI from the source. The normal procedure is documented <a href="InstallationOnMac.html">here</a>. This should only be of interest to folks who want to know how the double-clickable application is made, or want to run TUI under MacOS X 10.2.<a name="MacX11"></a><p>You can also build an X11-based version of TUI on MacOS X by following the <a href="#Unix">unix installation instructions</a>. The X11 version can happily coexist with the normal Mac application. For this to work, you will need to have installed Apple's X11 application and Developer Tools. X11 is with MacOS X 10.3 but is <b>not</b> installed by default. If you did not install it, you can download installer from <a href="http://www.apple.com">Apple</a> or find the installer on MacOS X install disk 3.<h2><a name="Unix"></a>Installing on Unix</h2><p>If you have a fairly uniform set of unix machines to support (i.e. most users running the same flavor of unix), I recommend installing everything (tcl/tk, python, etc.) on a network mountable disk and have people run tui from there. This saves you the trouble of individually installing extra packages to each machine's existing installation of tcl/tk and python. It also gives you the chance of running current versions of tcl/tk and python (preinstalled versions tend to be quite out of date). This is not very difficult; the installers for tcl/tk and python are both trivial to use and include excellent documentation.<p>Installation instructions:<ul>	<li>Check your current Python:<pre>% pythonPython ???   # version 2.3.x is required...&gt;&gt;&gt; import Tkinter       # if this and the next step both work then Tkinter is properly installed&gt;&gt;&gt; root = Tkinter.Tk()  # you should see a new empty window&gt;&gt;&gt; import Numeric       # if this works then Numeric is installed&gt;&gt;&gt; import tkSnack       # if this and the next step both work then tkSnack is installed&gt;&gt;&gt; tkSnack.initializeSnack(root)</pre>	<li>If this all works, jump ahead to "Download TUI". If everything works except importing Numeric, jump ahead to "Download Numeric". Otherwise, your version of Python is too old or Tkinter is not installed and you must install a new Python...		<li>If you don't already have them, download and install an X11 window server (such as xfree86), the associated libraries, and a window manager. Almost all unix installations already have the X11 window server and window manager, but some unix installations do not come with the X11 libraries.		<li>Download and install the correct version of <a href="http://tcl.tk/">tcl/tk</a>:	<ul>		<li>Any Tcl/Tk 8.4.x ought to work with Python 2.3; I recommend at least 8.4.2.	</ul>		<li>Download and install the current <a href="http://python.org/">Python</a> (2.3 or later). <b>Warning</b> for linux users: some python installers (such as python 2.3.3) needs a special flag to operate correctly with tcl/tk. (Always check the README before building.)	<li>Test your new Python and Tkinter:<pre>% pythonPython ???  # is this the new version you just installed?&gt;&gt;&gt;import Tkinter  # if this and the next step both work then Tkinter is properly installed&gt;&gt;&gt;root = Tkinter.Tk()  # you should see a new empty window</pre>	If there is a problem, try again from a new terminal session or after logging out and back in again. If it still doesn't work, debug the installation (good luck).		<li>Download <a href="http://sourceforge.net/projects/numpy">numpy</a> (aka Numeric) and install as per the trivial instructions in the README file..		<li>Download the <a href="http://www.speech.kth.se/snack/index.html">Snack Sound Toolkit</a> and install as follows:	<ul>		<li>Build the main tcl/tk files according to the README.		<li>Install the Python interface according to the docs. At the time of this writing, you manually copy tkSnack.py from the python directory to Python's .../lib/site-packages/ and make sure it has proper ownership and readability (match the other files there). Eventually it may include a proper installer.	</ul>	<li>Download <a href="http://tycho.apo.nmsu.edu:81/TUI-images">TUI Source</a> and unpack in some convenient directory (called <i>tui_root</i> below).		<li>Configure your environment:	<ul>		<li>Create a shell script named "tui" on your normal path and make it executable, as follows:<pre>#!/bin/shpython <i>tui_root</i>/runtui.py</pre>		<p>The first line may have to be adapted to your environment. Also, if you have more than one version of python installed on your system, please replace <code>python</code> with the full path to the correct version (such as <code>/usr/bin/python</code> or <code>/usr/local/bin/python</code>).				<li><b>Warning</b>: please do <b>not</b> treat runtui.py as an executable file. It may fail or it may run the wrong version of python.		<li>An alternative is to set up an alias "tui" that executes the same command. This is fine for a single-user installation, but a shell script is probably better for a shared installation because all users will automatically see it.	</ul>		<li>Test everything by typing "tui". It should launch. Note: if you use tcsh then you probably have to type "rehash" before "tui" will work.</ul><h2><a name="Windows"></a>Installing on Windows</h2><p>There is not yet a binary Windows installer for TUI. There will eventually be one if there is sufficient demand and once I have time to deal with it. Meanwhile, you can install TUI for Windows from source as follows<p>Note: please download current release versions of everything.<ul>	<li>Download and install <a href="http://www.python.org">Python</a> for Windows.	<li>Download and install Mark Hammonds <a href="http://sourceforge.net/projects/pywin32/">pywin32</a> package.	<li>Download and install <a href="http://sourceforge.net/projects/numpy/">numpy</a> (a.k.a. Numeric). Be sure to get numpy/Numeric rather than Numarray; both are hosted at the same location.	<li>Install the snack sound library as follows:	<ul>		<li>Download and unpack  <a href="http://www.speech.kth.se/snack/download.html">Snack</a>: get the <b>Binary release for Windows with Python...</b>. Be sure to match the correct version of python. If you don't already have software to unpack this archive, one option is to download <a href="http://stuffit.com">StuffIt Expander</a> (free for archive expansion).		<li>Follow the installation instructions in the unpacked archive. As of snack 2.2.8 for Python 2.3 this simply consisted of copying one file and one folder.	</ul>	<li>Download and unpack <a href="http://tycho.apo.nmsu.edu:81/TUI-images">TUI Source</a>: TUI_<i>vers</i>_Source.zip.	<li>Look inside the unpacked directory. You should see a file <code>runtui.py</code>. Double-click <code>runtui.py</code> to run TUI. To make it easier to run, put an alias of <code>runtui.py</code> on the desktop. Feel free to rename that alias and move or rename the unpacked TUI directory.</ul><p>If TUI does not run, run the python interpreter (<code>Start/Programs/Python2.3/python (command line)</code>) and type the test commands shown at the beginning of the <a href="#Unix">Unix installation instructions</a>.<h2><a name="History"></a>History</h2><ul>	<li>2004-10-06 Corrected the windows installation instructions.	<li>2004-09-03 Added Windows installation instructions based on information kindly supplied by Jack Dembicky. Improved the MacOS X installation instructions.	<li>2004-03-03 Modified unix notes for the new, simpler way to run TUI. Updated the Mac X11 notes because an X11 installer is now available for MacOS X 10.3 and is no longer available for 10.2.	<li>2004-02-05 Modified Notes for MacOS X to include one additional common Aqua Tk bug (menus showing up in the wrong place) and removed the note about incorporating TUI additions (since that is done in a more standard fashion in TUI 0.83).	<li>2004-01-23 Modified to the MacOS X binary. Added a link to the TUI downloads (thanks for the reminder, Nicole Silvestri).	<li>2003-12-23 Modified the unix info to suggest an executable script tui instead of environment mods. Updates the Mac info for Panther (MacOS X 10.3).	<li>2003-11-17 Added snack installation.	<li>2003-08-28 Added a note about the need for X11 on unix and corrected a test (root = Tk() -&gt; root = Tkinter.Tk()). Thanks to Bill Ketzeback. Overhauled the MacOS X installation instructions.</ul></body></html>